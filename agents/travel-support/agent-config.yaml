name: travel-support-agent
version: "1.0.0"
description: >
  A customer support agent for a travel company. Handles trip information queries,
  booking modifications, and complaints. Automatically resolves simple requests and
  escalates high-value or complex issues to human agents.

defaults:
  model: claude-sonnet-4-5-20250929
  temperature: 0.3
  max_tokens: 4096

execution:
  mode: sequential
  max_total_time: 120s
  error_strategy: retry_then_escalate

context:
  shared_memory: true
  pass_history: true

mcp_servers:
  - name: booking_db
    description: "Travel booking database â€” lookup, modify, cancel reservations"
  - name: knowledge_base
    description: "Company FAQ, policies, destination guides, visa requirements"
  - name: messaging
    description: "Send responses via email, chat, or SMS"

input_schema:
  type: object
  required: [message]
  properties:
    message:
      type: string
      description: "The customer's incoming message"
    customer_id:
      type: string
      description: "Customer identifier (if known)"
    booking_ref:
      type: string
      description: "Booking reference number (if provided)"
    channel:
      type: string
      enum: [email, chat, phone]
      default: chat

output_schema:
  type: object
  properties:
    response_text:
      type: string
      description: "The response sent to the customer"
    action_summary:
      type: string
      description: "Summary of actions taken (booking changes, escalations, etc.)"
    escalated:
      type: boolean
      description: "Whether the request was escalated to a human agent"
    customer_id:
      type: string
    booking_ref:
      type: string
